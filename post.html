<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Post - McClain Thiel</title>
<meta name="description" content="McClain Thiel's blog post" />
<style>
  /* ——— Base + theme ——— */
  :root{
    --bg:#ffffff; --fg:#0b0b0b; --muted:#404040; --link:#0b0b0b;
    --card:#f7f7f7; --caret:#0b0b0b; --rule:#e5e5e5;
  }
  @media(prefers-color-scheme:dark){
    :root{ --bg:#0b0b0b; --fg:#eaeaea; --muted:#b3b3b3; --link:#eaeaea;
           --card:#151515; --caret:#eaeaea; --rule:#1f1f1f; }
  }
  [data-theme="light"]{ --bg:#ffffff; --fg:#0b0b0b; --muted:#404040; --link:#0b0b0b;
                        --card:#f7f7f7; --caret:#0b0b0b; --rule:#e5e5e5; }
  [data-theme="dark"]{  --bg:#0b0b0b; --fg:#eaeaea; --muted:#b3b3b3; --link:#eaeaea;
                        --card:#151515; --caret:#eaeaea; --rule:#1f1f1f; }

  html,body{height:100%}
  body{
    margin:0;
    background:var(--bg); color:var(--fg);
    font: 16px/1.7 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    letter-spacing:.01em;
  }

  /* ——— Layout ——— */
  .wrap{ max-width: 820px; padding: 48px 20px 96px; margin: 0 auto; }
  .row{ display:flex; align-items:center; justify-content:space-between; gap:1rem; }
  .name{ font-weight:700; margin:0 0 8px; font-size: 18px; }
  .post-meta{ color:var(--muted); margin:0 0 32px; font-size:14px; }
  .lead{ margin:0 0 22px; font-size:16px; }
  .muted{ color:var(--muted) }

  /* ——— Links ——— */
  a{ color:var(--link); text-underline-offset: 2px }
  a:hover{ text-decoration-thickness: 2px }

  /* ——— Blog content ——— */
  .content{ margin: 24px 0; line-height: 1.7; }
  .content h1{ font-size: 22px; font-weight: 700; margin: 32px 0 16px; }
  .content h2{ font-size: 18px; font-weight: 700; margin: 28px 0 12px; }
  .content h3{ font-size: 16px; font-weight: 700; margin: 24px 0 12px; }
  .content p{ margin: 16px 0; }
  .content ul, .content ol{ margin: 16px 0; padding-left: 24px; }
  .content li{ margin: 8px 0; }
  .content code{
    background: var(--card);
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 14px;
  }
  .content pre{
    background: var(--card);
    padding: 16px;
    border-radius: 4px;
    overflow-x: auto;
    margin: 16px 0;
  }
  .content pre code{
    background: none;
    padding: 0;
  }
  .content blockquote{
    border-left: 3px solid var(--rule);
    margin: 16px 0;
    padding-left: 16px;
    color: var(--muted);
  }
  .content img{
    max-width: 100%;
    height: auto;
    margin: 16px 0;
  }

  .social{
    position: fixed; left: 24px; bottom: 28px; right: 24px;
    display:flex; gap:18px; align-items:center; color:var(--muted);
    max-width: 820px; margin: 0 auto;
  }
  .social a{ color:var(--link); text-decoration: underline; }
  .rule{ height:1px; background:var(--rule); border:0; margin: 26px 0 0 }

  /* ——— Theme toggle ——— */
  .theme{
    border:0; background:transparent; color:var(--fg); cursor:pointer;
    font-size:18px; line-height:1; padding:6px; border-radius:8px;
  }
  .theme:focus-visible{ outline:2px solid var(--rule); outline-offset:2px }
</style>
</head>
<body>
  <div class="wrap">
    <div class="row">
      <div style="flex:1">
        <p class="lead">
          <a href="blog.html">← Back to blog</a>
        </p>
      </div>
      <button id="themeBtn" class="theme" aria-label="Toggle theme" title="Toggle theme">☼</button>
    </div>

    <article>
      <h1 class="name" id="postTitle">Loading...</h1>
      <p class="post-meta" id="postDate"></p>
      <div class="content" id="postContent">
        <p style="color:var(--muted)">Loading post...</p>
      </div>
    </article>

    <hr class="rule" />
  </div>

  <div class="social">
    <span>✕</span>
    <a href="https://www.linkedin.com/in/mcclain-thiel/" target="_blank" rel="noreferrer">LinkedIn</a>
    <a href="https://github.com/McClain-Thiel" target="_blank" rel="noreferrer">GitHub</a>
    <span style="margin-left: auto;">·</span>
    <a href="blog.html">Blog</a>
  </div>

<script src="https://cdn.jsdelivr.net/npm/marked@11.1.0/marked.min.js"></script>
<script>
  // Theme toggle with memory
  const root = document.documentElement;
  const btn = document.getElementById('themeBtn');
  const KEY = 'pref-theme';
  const saved = localStorage.getItem(KEY);
  if (saved === 'light' || saved === 'dark') root.setAttribute('data-theme', saved);
  const updateIcon = () => { btn.textContent = (root.getAttribute('data-theme') === 'dark') ? '◐' : '☼'; };
  updateIcon();
  btn.addEventListener('click', () => {
    const cur = root.getAttribute('data-theme');
    const next = cur === 'dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', next);
    localStorage.setItem(KEY, next);
    updateIcon();
  });

  // Load blog post
  async function loadPost() {
    const params = new URLSearchParams(window.location.search);
    const postId = params.get('id');
    
    if (!postId) {
      document.getElementById('postTitle').textContent = 'Post not found';
      document.getElementById('postContent').innerHTML = '<p style="color:var(--muted)">No post ID provided.</p>';
      return;
    }
    
    try {
      // Load posts metadata
      const response = await fetch('blog/posts.json');
      const posts = await response.json();
      const post = posts.find(p => p.id === postId);
      
      if (!post) {
        throw new Error('Post not found');
      }
      
      document.getElementById('postTitle').textContent = post.title;
      document.getElementById('postDate').textContent = post.date;
      document.title = `${post.title} - McClain Thiel`;
      
      // Load markdown content
      const mdResponse = await fetch(`blog/${post.file}`);
      const markdown = await mdResponse.text();
      
      // Convert markdown to HTML
      const html = marked.parse(markdown);
      document.getElementById('postContent').innerHTML = html;
      
    } catch (err) {
      document.getElementById('postTitle').textContent = 'Post not found';
      document.getElementById('postContent').innerHTML = 
        '<p style="color:var(--muted)">Could not load post. Make sure blog/posts.json exists and contains valid post data.</p>';
    }
  }

  loadPost();
</script>
</body>
</html>

