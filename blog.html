<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Blog - McClain Thiel</title>
<meta name="description" content="McClain Thiel's blog" />
<style>
  /* ——— Base + theme ——— */
  :root{
    --bg:#ffffff; --fg:#0b0b0b; --muted:#404040; --link:#0b0b0b;
    --card:#f7f7f7; --caret:#0b0b0b; --rule:#e5e5e5;
  }
  @media(prefers-color-scheme:dark){
    :root{ --bg:#0b0b0b; --fg:#eaeaea; --muted:#b3b3b3; --link:#eaeaea;
           --card:#151515; --caret:#eaeaea; --rule:#1f1f1f; }
  }
  [data-theme="light"]{ --bg:#ffffff; --fg:#0b0b0b; --muted:#404040; --link:#0b0b0b;
                        --card:#f7f7f7; --caret:#0b0b0b; --rule:#e5e5e5; }
  [data-theme="dark"]{  --bg:#0b0b0b; --fg:#eaeaea; --muted:#b3b3b3; --link:#eaeaea;
                        --card:#151515; --caret:#eaeaea; --rule:#1f1f1f; }

  html,body{height:100%}
  body{
    margin:0;
    background:var(--bg); color:var(--fg);
    font: 16px/1.7 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    letter-spacing:.01em;
  }

  /* ——— Layout ——— */
  .wrap{ max-width: 820px; padding: 48px 20px 96px; margin: 0 auto; }
  .row{ display:flex; align-items:center; justify-content:space-between; gap:1rem; }
  .name{ font-weight:700; margin:0 0 18px; font-size: 18px; }
  .lead{ margin:0 0 22px; font-size:16px; }
  .muted{ color:var(--muted) }

  /* ——— Links ——— */
  a{ color:var(--link); text-underline-offset: 2px }
  a:hover{ text-decoration-thickness: 2px }

  /* ——— Blog list ——— */
  .post-list{ list-style:none; padding:0; margin:24px 0 }
  .post-item{ 
    padding: 16px; 
    margin: 12px 0;
    background: var(--card);
    border-radius: 4px;
    transition: background .15s ease;
  }
  .post-item:hover{ opacity: .85 }
  .post-title{ font-weight:700; margin:0 0 4px; font-size: 16px; }
  .post-meta{ font-size:14px; color:var(--muted); margin:0 }
  .post-link{ text-decoration:none; display:block }

  .social{
    position: fixed; left: 24px; bottom: 28px; right: 24px;
    display:flex; gap:18px; align-items:center; color:var(--muted);
    max-width: 820px; margin: 0 auto;
  }
  .social a{ color:var(--link); text-decoration: underline; }
  .rule{ height:1px; background:var(--rule); border:0; margin: 26px 0 0 }

  /* ——— Theme toggle ——— */
  .theme{
    border:0; background:transparent; color:var(--fg); cursor:pointer;
    font-size:18px; line-height:1; padding:6px; border-radius:8px;
  }
  .theme:focus-visible{ outline:2px solid var(--rule); outline-offset:2px }
</style>
</head>
<body>
  <div class="wrap">
    <div class="row">
      <div>
        <p class="name">Blog</p>
        <p class="lead">
          <a href="index.html">← Back to home</a>
        </p>
      </div>
      <button id="themeBtn" class="theme" aria-label="Toggle theme" title="Toggle theme">☼</button>
    </div>

    <ul id="postList" class="post-list">
      <li style="color:var(--muted)">Loading posts...</li>
    </ul>

    <hr class="rule" />
  </div>

  <div class="social">
    <span>✕</span>
    <a href="https://www.linkedin.com/in/mcclain-thiel/" target="_blank" rel="noreferrer">LinkedIn</a>
    <a href="https://github.com/McClain-Thiel" target="_blank" rel="noreferrer">GitHub</a>
    <span style="margin-left: auto;">·</span>
    <a href="blog.html">Blog</a>
  </div>

<script>
  // Theme toggle with memory
  const root = document.documentElement;
  const btn = document.getElementById('themeBtn');
  const KEY = 'pref-theme';
  const saved = localStorage.getItem(KEY);
  if (saved === 'light' || saved === 'dark') root.setAttribute('data-theme', saved);
  const updateIcon = () => { btn.textContent = (root.getAttribute('data-theme') === 'dark') ? '◐' : '☼'; };
  updateIcon();
  btn.addEventListener('click', () => {
    const cur = root.getAttribute('data-theme');
    const next = cur === 'dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', next);
    localStorage.setItem(KEY, next);
    updateIcon();
  });

  // Load blog posts
  async function loadPosts() {
    try {
      const response = await fetch('blog/posts.json');
      const posts = await response.json();
      
      const postList = document.getElementById('postList');
      
      if (posts.length === 0) {
        postList.innerHTML = '<li style="color:var(--muted)">No posts yet.</li>';
        return;
      }
      
      postList.innerHTML = posts.map(post => `
        <li class="post-item">
          <a href="post.html?id=${post.id}" class="post-link">
            <p class="post-title">${post.title}</p>
            <p class="post-meta">${post.date}</p>
          </a>
        </li>
      `).join('');
    } catch (err) {
      document.getElementById('postList').innerHTML = 
        '<li style="color:var(--muted)">No posts yet. Create blog/posts.json to add posts.</li>';
    }
  }

  loadPosts();
</script>
</body>
</html>

